(function(b){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c};var c=function(a){return a='/',{title:'browser',version:'v0.12.4',browser:!0,env:{},argv:[],nextTick:b.setImmediate||function(a){setTimeout(a,0)},cwd:function(){return a},chdir:function(b){a=b}}}();a.define('/lib/link-initialize.js',function(y,H,G,F){'use strict';function t(a){b.contentWindow.postMessage(JSON.stringify(i.merge({disableAnimations:v,isMobileBrowser:v,isChromeBrowser:D,isFirefoxBrowser:A,isSafariBrowser:x,isUIWebView:E},a)),'https://cdn.plaid.com/link')}var i=a('/lib/util.js',y),c=function(b,a,c){for(b=document.getElementsByTagName('script'),a=0,c=b.length;a<c;a+=1)if(/link-initialize[.]js$/.test(b[a].src))return b[a];throw new Error('Failed to find script')}(),B=document.createElement('img');B.src='https://cdn.plaid.com/link/0.1.2/img/spritesheet.png';var e=window.location,k=e.origin==null?e.protocol+'//'+e.hostname+(e.port?':'+e.port:''):e.origin,s=[{name:'American Express',type:'amex',auth:!1,connect:!0},{name:'Bank of America',type:'bofa',auth:!0,connect:!0},{name:'Citi',type:'citi',auth:!0,connect:!0},{name:'CapitalOne 360',type:'capone360',auth:!0,connect:!1},{name:'Chase',type:'chase',auth:!0,connect:!0},{name:'Fidelity',type:'fidelity',auth:!0,connect:!1},{name:'PNC',type:'pnc',auth:!0,connect:!1},{name:'Charles Schwab',type:'schwab',auth:!0,connect:!1},{name:'SVB',type:'svb',auth:!0,connect:!0},{name:'US Bank',type:'us',auth:!0,connect:!0},{name:'USAA',type:'usaa',auth:!0,connect:!0},{name:'Wells Fargo',type:'wells',auth:!0,connect:!0}],b=document.createElement('iframe'),p=!1;b.id='plaid-link-iframe',b.src='https://cdn.plaid.com/link/0.1.2/link.html',b.width='100%',b.height='100%',b.style.position='fixed',b.style.top='0',b.style.left='0',b.style.right='0',b.style.bottom='0',b.style.zIndex='99999999',b.style.borderWidth='0',b.style.display='none',document.body.appendChild(b);var r=c.getAttribute('data-form-id'),h=document.getElementById(r),w,d;if(r==null){var u,o,j=null;b.onload=function(){typeof o==='function'&&o(),j!=null&&(t(j),b.style.display='block',document.body.style.overflow='hidden'),p=!0},y.exports={create:function(a){if(a.clientName==null)throw new Error('Missing clientName');if(a.env!=='development'&&a.env!=='tartan'&&a.env!=='production')throw new Error('Invalid env: env must be "tartan" or "production"');if(a.product!=='auth'&&a.product!=='connect')throw new Error('Invalid product: product must be "auth" or "connect"');if(a.key==null)throw new Error('Missing key');if(typeof a.onSuccess!=='function')throw new Error('Invalid onSuccess function');u=a.onExit,o=a.onLoad,w=a.onSuccess;var c=i.filter(s,function(b){return b[a.product]});return{institutions:c,open:function(c){if(c!=null){var d=i.find(s,function(a){return a.type===c});if(d==null)throw new Error('"'+c+'" is not a valid Plaid institution type. See https://plaid.com/docs#institutions for supported institution types.');if(!d[a.product])throw new Error('"'+c+'" is not supported with "'+a.product+'". Use the "institutions" property of the Plaid Link handler to determine supported institution types.')}if(!p){j=i.merge({action:'open',institution:c,origin:k,useSandbox:a.key==='test_key'},a),typeof o==='function'&&console.error('Unable to open Plaid Link: wait until your onLoad function has been called before attempting to call .open() on your Plaid Link handler.');return}t({action:'open',clientName:a.clientName,env:a.env,institution:c,key:a.key,longTail:a.longTail===!0,isPatch:a.token!=null,origin:k,product:a.product,token:a.token,useSandbox:a.key==='test_key',webhook:a.webhook}),b.style.display='block',document.body.style.overflow='hidden'}}}}}else{if(h==null)throw new Error('Uncaught Error: Specify a valid data-form-id');var q=c.getAttribute('data-client-name'),f=c.getAttribute('data-env'),l=c.getAttribute('data-key'),z=c.getAttribute('data-long-tail')==='true',m=c.getAttribute('data-product'),n=c.getAttribute('data-token'),C=c.getAttribute('data-webhook');if(q==null)throw new Error('Missing data-client-name');if(f!=='development'&&f!=='tartan'&&f!=='production')throw new Error('Invalid data-env: data-env must be "tartan" or "production"');if(l==null)throw new Error('Missing data-key');if(m!=='auth'&&m!=='connect')throw new Error('Invalid data-product: valid products are "auth" or "connect"');b.onload=function(){t({action:'open',clientName:q,env:f,key:l,longTail:z,origin:k,product:m,token:n,isPatch:n!=null,useSandbox:l==='test_key',webhook:C})},d=document.createElement('button'),d.disabled=!0,d.id='plaid-link-button',d.textContent=n!=null?'Relink your bank account':'Link your bank account',d.onclick=function(a){a.preventDefault(),b.style.display='block',document.body.style.overflow='hidden'},h.appendChild(d);var g=document.createElement('input');g.type='hidden',g.name='public_token',h.appendChild(g),w=function(a){g.value=a,h.submit()}}var v=/android mobile|iemobile|iphone|ipod|windows phone/i.test(navigator.userAgent),D=/chrome|crios|crmo/i.test(navigator.userAgent),A=/firefox|iceweasel/i.test(navigator.userAgent),x=/safari/i.test(navigator.userAgent),E=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);window.addEventListener('message',function(c){var a;try{a=JSON.parse(c.data)}catch(b){a={}}a.action==='exit'?(typeof u==='function'&&u(),b.style.display='none',document.body.style.overflow=null):a.action==='connected'?(w(a.public_token),b.style.display='none',document.body.style.overflow=null):a.action==='acknowledged'&&d!=null&&(d.disabled=!1)},!1)}),a.define('/lib/util.js',function(d,a,e,f){'use strict';function b(a){return('0'+a.toString(16)).slice(-2)}function c(a){return parseInt(a,16)}a.filter=function(b,e){var c=[],d=b.length,a;for(a=0;a<d;a+=1)e(b[a])&&c.push(b[a]);return c},a.find=function(b,d){var c=b.length,a;for(a=0;a<c;a+=1)if(d(b[a]))return b[a]},a.merge=function(c,d){var b={},a;for(a in c)b[a]=c[a];for(a in d)b[a]=d[a];return b},a.eq=function(a){return function(b){return b===a}},a.debounce=function(b,d,c){var a;return function(){var e=this,f=arguments,g=function(){a=null,c||b.apply(e,f)},h=c&&!a;clearTimeout(a),a=setTimeout(g,d),h&&b.apply(e,f)}},a.concat=function(a,b){return a.concat(b)},a.addClassName=function(c,d){var b=d.className.split(' ');b.indexOf(c)<0&&(d.className=a.concat(b,[c]).join(' '))},a.removeClassName=function(e,d){var b=d.className.split(' '),c=b.indexOf(e);c>=0&&(d.className=a.concat(b.slice(0,c),b.slice(c+1)).join(' '))},a.toggleClassName=function(b,c,d){(d?a.addClassName:a.removeClassName)(b,c)},a.rgb=function(a,c,d){return'#'+b(a)+b(c)+b(d)},a.rgba=function(a,b,c,d){return'rgba('+a+', '+b+', '+c+', '+d+')'},a.rgbaFromHexAlpha=function(b,d){return b.match(/^rgba\(/i)?b:a.rgba.apply(null,b.match(/[0-9A-F]{2}/gi).map(c).concat(d))},a.parseRgbaString=function(a){return a.split('(')[1].split(')')[0].split(',',3)},a.toPX=function(a){return a.toString()+'px'}}),b.Plaid=a('/lib/link-initialize.js')}.call(this,this))
//# sourceMappingURL=link-initialize.js.map
